{% extends "base.html" %}

{% block content %}
  <h1>Medical History for {{ patient.first_name }} {{ patient.last_name }}</h1>
  
  <ol class="medical-history-list">
    {% for record in medical_history %}
      <li class="medical-record">
        <h3>Medical Record</h3>
        <p><strong>History:</strong> {{ record.history }}</p>
        <p><strong>Review of Systems:</strong> {{ record.review_of_systems.all|join:", " }}</p>
        <p><strong>Examination:</strong> {{ record.examination.all|join:", " }}</p>
        <p><strong>Diagnosis:</strong> {{ record.diagnosis.all|join:", " }}</p>
        <p><strong>Treatment:</strong> {{ record.treatment.all|join:", " }}</p>
        <p><strong>Investigation:</strong> {{ record.investgation.all|join:", " }}</p>
        <p><strong>Medication:</strong> {{ record.medication.all|join:", " }}</p>
        <p><strong>Payment Type:</strong> {{ record.payment_type }}</p>
        <p><strong>Follow-Up Date:</strong> {{ record.follow_up_date }}</p>
        <p><strong>Doctor:</strong> {{ record.doctor }}</p>
        <p><strong>Created At:</strong> {{ record.created_at }}</p>
      </li>
    {% empty %}
      <p>No medical history records found.</p>
    {% endfor %}
  </ol>
  
  <a href="{% url 'home' %}">Back to Home</a>
{% endblock %}
